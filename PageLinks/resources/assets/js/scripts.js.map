{"version":3,"sources":["definedlinks.js","imagelinks.js","custom.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA","file":"scripts.js","sourcesContent":["(function($)\n{\n\t$.Redactor.prototype.definedlinks = function()\n\t{\n\t\treturn {\n\t\t\tinit: function()\n\t\t\t{\n\t\t\t\tif (!this.opts.definedLinks)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.modal.addCallback('link', $.proxy(this.definedlinks.load, this));\n\n\t\t\t},\n\t\t\tload: function()\n\t\t\t{\n\t\t\t\tvar $section = $('<div />');\n\t\t\t\tvar $select = $('<select id=\"redactor-defined-links\" />');\n\n\t\t\t\t$section.append($select);\n\t\t\t\tthis.modal.getModal().prepend($section);\n\n\t\t\t\tthis.definedlinks.storage = {};\n\n\t\t\t\tvar url = (this.opts.definedlinks) ? this.opts.definedlinks : this.opts.definedLinks;\n\t\t\t\t$.getJSON(url, $.proxy(function(data)\n\t\t\t\t{\n                    var $selected = $('#redactor-link-url').val();\n\n\t\t\t\t\t$.each(data, $.proxy(function(key, val)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.definedlinks.storage[key] = val;\n\n\t\t\t\t\t\tif(val.url === $selected) {\n                            $select.append($('<option selected>').val(key).html(val.name).css('padding-left', (val.depth * 10)+'px'));\n                        }\n                        else {\n                            $select.append($('<option>').val(key).html(val.name).css('padding-left', (val.depth * 10)+'px'));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, this));\n\n\t\t\t\t\t$select.on('change', $.proxy(this.definedlinks.select, this));\n\n                    $('#redactor-defined-links').selectize({});\n\n\t\t\t\t}, this));\n\n\t\t\t},\n\t\t\tselect: function(e)\n\t\t\t{\n\t\t\t\tvar oldText = $.trim($('#redactor-link-url-text').val());\n\n\t\t\t\tvar key = $(e.target).val();\n\t\t\t\tvar name = '', url = '';\n\t\t\t\tif (key !== 0)\n\t\t\t\t{\n\t\t\t\t\tname = this.definedlinks.storage[key].name;\n\t\t\t\t\turl = this.definedlinks.storage[key].url;\n\t\t\t\t}\n\n\t\t\t\t$('#redactor-link-url').val(url);\n\n\t\t\t\tif (oldText === '')\n\t\t\t\t{\n\t\t\t\t\t$('#redactor-link-url-text').val(name);\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t};\n})(jQuery);","(function($)\n{\n\t$.Redactor.prototype.imagelinks = function()\n\t{\n\t\treturn {\n\t\t\tinit: function()\n\t\t\t{\n\t\t\t\tconsole.log('IMG LINKS');\n\t\t\t\tif (!this.opts.definedLinks)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconsole.log(this.modal);\n\n\t\t\t\tthis.modal.addCallback('imageEdit', $.proxy(this.imagelinks.load, this));\n\n\t\t\t},\n\t\t\tload: function()\n\t\t\t{\n\t\t\t\tconsole.log('IMG EDIT LOAD()');\n\t\t\t\tvar $section = $('<div />');\n\t\t\t\tvar $select = $('<select id=\"redactor-defined-links\" />');\n\n\t\t\t\t$section.append($select);\n\t\t\t\tthis.modal.getModal().prepend($section);\n\n\t\t\t\tthis.imagelinks.storage = {};\n\n\t\t\t\tvar url = (this.opts.definedLinks) ? this.opts.definedLinks : this.opts.definedLinks;\n\t\t\t\t$.getJSON(url, $.proxy(function(data)\n\t\t\t\t{\n                    var $selected = $('#redactor-image-link').val();\n\n\t\t\t\t\t$.each(data, $.proxy(function(key, val)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.imagelinks.storage[key] = val;\n\n\t\t\t\t\t\tif(val.url === $selected) {\n                            $select.append($('<option selected>').val(key).html(val.name).css('padding-left', (val.depth * 10)+'px'));\n                        }\n                        else {\n                            $select.append($('<option>').val(key).html(val.name).css('padding-left', (val.depth * 10)+'px'));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, this));\n\n\t\t\t\t\t$select.on('change', $.proxy(this.imagelinks.select, this));\n\n                    $('#redactor-defined-links').selectize({});\n\n\t\t\t\t}, this));\n\n\t\t\t},\n\t\t\tselect: function(e)\n\t\t\t{\n\t\t\t\tvar key = $(e.target).val();\n\t\t\t\tvar name = '', url = '';\n\t\t\t\tif (key !== 0)\n\t\t\t\t{\n\t\t\t\t\tname = this.imagelinks.storage[key].name;\n\t\t\t\t\turl = this.imagelinks.storage[key].url;\n\t\t\t\t}\n\n\t\t\t\t$('#redactor-image-link').val(url);\n\t\t\t}\n\t\t};\n\t};\n})(jQuery);",""]}